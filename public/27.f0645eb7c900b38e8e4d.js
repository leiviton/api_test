(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{XTOg:function(t,e,s){"use strict";s.r(e);var i=s("Valr"),a=s("mrSG"),n=s("h2Ha"),o=s("wsei"),r=s("CqG3"),c=s("Wcq6"),h=s("67Y/"),l=s("TYT/"),d=function(){function t(t){this.afs=t}return t.prototype.getChats=function(){return this.afs.collection("chatroom").snapshotChanges()},t.prototype.createChatRoom=function(t){return this.afs.collection("chatroom").add(t)},t.prototype.showChat=function(t){return this.afs.doc("chatroom/"+t).snapshotChanges().pipe(Object(h.a)((function(t){var e=t.payload.data(),s=t.payload.id;return Object(a.__assign)({chatId:s},e)})))},t.prototype.sendMessage=function(t,e){return this.afs.collection("chatroom").doc(t).update({chatHistory:c.firestore.FieldValue.arrayUnion(e)})},t.\u0275fac=function(e){return new(e||t)(l.hc(r.AngularFirestore))},t.\u0275prov=l.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),g=s("QJY3"),p=s("DUip"),b=["content"],u=["messages"];function m(t,e){1&t&&l.Ub(0,"i",49)}function f(t,e){1&t&&l.Ub(0,"i",50)}function y(t,e){1&t&&l.Ub(0,"i",51)}function v(t,e){if(1&t){var s=l.ac();l.Zb(0,"a",37),l.lc("click",(function(){l.Lc(s);var t=e.$implicit;return l.nc().showChat(t)})),l.Zb(1,"div",38),l.Zb(2,"span"),l.Ub(3,"img",39),l.Ub(4,"i"),l.Yb(),l.Yb(),l.Ub(5,"i"),l.Zb(6,"div",40),l.Zb(7,"h6",41),l.Vc(8),l.Zb(9,"span",42),l.Vc(10),l.oc(11,"date"),l.Yb(),l.Yb(),l.Zb(12,"p",43),l.Tc(13,m,1,0,"i",44),l.Vc(14),l.Zb(15,"span",45),l.Tc(16,f,1,0,"i",46),l.Yb(),l.Zb(17,"span",45),l.Tc(18,y,1,0,"i",47),l.Ub(19,"span",48),l.Yb(),l.Yb(),l.Yb(),l.Yb()}if(2&t){var i=e.$implicit,a=l.nc();l.uc("ngClass",i.uid==a.clickedUser?"active":""),l.Eb(2),l.Hb("avatar avatar-md avatar-",i.isActive,""),l.Eb(1),l.uc("src",i.image,l.Nc),l.Eb(5),l.Wc(i.name),l.Eb(2),l.Xc("",l.qc(11,11,i.lastmsgTime,"dd/MM/yyyy HH:mm")," "),l.Eb(3),l.uc("ngIf",i.lastmsg),l.Eb(1),l.Xc("",i.lastmsg," "),l.Eb(2),l.uc("ngIf",i.showicon),l.Eb(2),l.uc("ngIf",i.isicon)}}function C(t,e){if(1&t&&l.Ub(0,"img",59),2&t){var s=l.nc().$implicit;l.uc("src",s.userImage,l.Nc)}}function w(t,e){if(1&t&&(l.Zb(0,"div",52),l.Zb(1,"div",53),l.Zb(2,"a",54),l.Zb(3,"span",55),l.Tc(4,C,1,1,"img",56),l.Yb(),l.Yb(),l.Yb(),l.Zb(5,"div",57),l.Zb(6,"div",58),l.Zb(7,"p"),l.Vc(8),l.Yb(),l.Yb(),l.Yb(),l.Yb()),2&t){var s=e.$implicit,i=l.nc();l.uc("ngClass",i.currentUserUid==s.uid?"chat-right":"chat-left"),l.Eb(4),l.uc("ngIf",s.userImage),l.Eb(4),l.Wc(s.message)}}var _=function(){function t(t,e,s){var i=this;this.renderer=t,this.userService=e,this.chatService=s,this.status=!0,this.newMessage="",this.config={wheelPropagation:!1},this.contactList=[],this.contactChats=[],this.showChatInProgress=!1,this.createInProgress=!1,this.temp2=this.contactList,this.temp=[],this.loggedInUser=JSON.parse(localStorage.getItem("currentUser")),this.currentUserUid=this.loggedInUser.uid,this.currentUser="",this.clickedUser="",this.chatList=[],this.displayChat=[],this.chatId="",this.senderImage="",this.currentUserImage="",this.loadContacts=!1,this.prevMsg="",this.scrollToBottom=function(){try{i.content.nativeElement.scrollTop=i.content.nativeElement.scrollHeight}catch(t){}}}return t.prototype.ngAfterViewInit=function(){this.messages.forEach(this.scrollToBottom),this.messages.changes.subscribe(this.scrollToBottom)},t.prototype.ngOnInit=function(){var t=this;this.userService.getUsers().subscribe((function(e){var s=e.map((function(t){return Object(a.__assign)(Object(a.__assign)({},t.payload.doc.data()),{id:t.payload.doc.id})}));t.contactList=[],s.forEach((function(e){t.loggedInUser.uid!==e.uid&&t.contactList.push(e)})),t.clickedUser=t.contactList[0].uid,t.currentUserImage=t.loggedInUser.photoURL,t.senderImage=t.contactList[0].image})),this.chatService.getChats().subscribe((function(e){t.contactChats=e.map((function(t){return Object(a.__assign)(Object(a.__assign)({},t.payload.doc.data()),{id:t.payload.doc.id})})),t.showDefaultChat(),t.showLastMessage(),t.createInProgress=!1}))},t.prototype.updateFilter=function(t){var e=t.target.value.toLowerCase();this.contactList=Object(a.__spreadArrays)(this.temp2),this.temp=Object(a.__spreadArrays)(this.contactList);var s=this.contactList.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e)||!e}));this.contactList=s},t.prototype.sendMessage=function(){var t=this;null!==this.newMessage&&""!==this.newMessage&&(this.messageInfo={message:this.newMessage,date:Date.now(),uid:this.loggedInUser.uid,status:"send"},""!==this.chatId?this.chatService.sendMessage(this.chatId,this.messageInfo):(this.currentUser=this.loggedInUser.uid,this.userInfo={uid:this.loggedInUser.uid,name:this.currentUser<this.clickedUser?this.currentUser+"_"+this.clickedUser:this.clickedUser+"_"+this.currentUser,image:this.loggedInUser.photoURL,time:Date.now(),showMessage:"",badge:"",showicon:!0,isicon:!1,isactive:"online",isSelected:!1,chatHistory:[]},this.displayChat.push(this.messageInfo),this.createInProgress=!0,this.chatService.createChatRoom(this.userInfo).then((function(e){t.chatId=e.id,t.loadChatRoom(e.id),t.chatService.sendMessage(t.chatId,t.messageInfo),t.createInProgress=!1}))),this.newMessage=null)},t.prototype.onEnter=function(t){this.newMessage=t,this.sendMessage()},t.prototype.showChat=function(t){if(!this.showChatInProgress&&!this.createInProgress){this.showChatInProgress=!0,this.currentUser=this.loggedInUser.uid,this.clickedUser=t.uid,this.contactId=t.id,this.currentUserImage=this.loggedInUser.photoURL,this.senderImage=t.image;var e=this.currentUser<this.clickedUser?this.currentUser+"_"+this.clickedUser:this.clickedUser+"_"+this.currentUser;if(this.userInfo={uid:this.loggedInUser.uid,name:e,image:this.loggedInUser.photoURL,time:Date.now(),showMessage:"",badge:"",showicon:!0,isicon:!1,isactive:"online",isSelected:!1,chatHistory:[]},0===this.contactChats.length)this.createAndLoadChatRoom();else if(0!==this.contactChats.length){for(var s=!1,i=0;i<this.contactChats.length;i++)if(this.contactChats[i].name===e){s=!0,this.chatId=this.contactChats[i].id;break}s?(this.loadChatRoom(this.chatId),this.showChatInProgress=!1,this.userInfo.isSelected=!0):this.createAndLoadChatRoom()}}},t.prototype.createAndLoadChatRoom=function(){var t=this;this.createInProgress=!0,this.chatService.createChatRoom(this.userInfo).then((function(e){t.chatId=e.id,t.loadChatRoom(e.id)}))},t.prototype.setUserImage=function(t){for(var e=0;e<t.length;e++)if(t.length>0){if(e>0&&(this.prevMsg=t[e-1]),e>0&&t[e].uid===this.prevMsg.uid)continue;t[e].userImage=t[e].uid===this.loggedInUser.uid?this.currentUserImage:this.senderImage}},t.prototype.loadChatRoom=function(t){var e=this;this.chatService.showChat(t).subscribe((function(s){t===e.chatId&&(e.setUserImage(s.chatHistory),e.displayChat=s.chatHistory,e.chatId=s.chatId),e.showChatInProgress=!1}))},t.prototype.showDefaultChat=function(){this.currentUser=this.loggedInUser.uid;for(var t=this.currentUser<this.clickedUser?this.currentUser+"_"+this.clickedUser:this.clickedUser+"_"+this.currentUser,e=0;e<this.contactChats.length;e++)this.contactChats[e].name===t&&(this.contactChats[e].chatHistory&&this.contactChats[e].chatHistory.length>0&&(this.displayChat=this.contactChats[e].chatHistory,this.setUserImage(this.contactChats[e].chatHistory)),this.chatId=this.contactChats[e].id)},t.prototype.showLastMessage=function(){for(var t=0;t<this.contactList.length;t++)if(this.contactList[t])for(var e=0;e<this.contactChats.length;e++){var s=this.contactChats[e].name,i=s.indexOf(this.contactList[t].uid),a=this.loggedInUser.uid,n=this.contactList[t].uid;i>=0&&this.contactChats[e].chatHistory.length>0&&(a<n?a+"_"+n:n+"_"+a)===s&&(this.contactList[t].lastmsg=this.contactChats[e].chatHistory[this.contactChats[e].chatHistory.length-1].message,this.contactList[t].isActive=this.contactChats[e].isactive,this.contactList[t].icon=this.contactChats[e].isicon,this.contactList[t].showicon=this.contactChats[e].showicon,this.contactList[t].lastmsgTime=this.contactChats[e].chatHistory[this.contactChats[e].chatHistory.length-1].date)}},t.prototype.sidebar=function(t){var e=document.getElementById("sidebar-left"),s=document.getElementById("content-overlay");"sidebar-toggle d-block d-lg-none"===t.currentTarget.className&&(this.renderer.addClass(e,"show"),this.renderer.addClass(s,"show"))},t.prototype.contentOverlay=function(t){var e=document.getElementById("sidebar-left"),s=document.getElementById("content-overlay");"content-overlay show"===t.currentTarget.className&&(this.renderer.removeClass(e,"show"),this.renderer.removeClass(s,"show"))},t.\u0275fac=function(e){return new(e||t)(l.Tb(l.F),l.Tb(o.a),l.Tb(d))},t.\u0275cmp=l.Nb({type:t,selectors:[["app-chat"]],viewQuery:function(t,e){var s;1&t&&(l.cd(n.a,!0),l.Rc(n.b,!0),l.Rc(b,!0),l.cd(u,!0)),2&t&&(l.Hc(s=l.mc())&&(e.componentRef=s.first),l.Hc(s=l.mc())&&(e.directiveRef=s.first),l.Hc(s=l.mc())&&(e.content=s.first),l.Hc(s=l.mc())&&(e.messages=s))},decls:40,vars:4,consts:[[1,"app-content","content"],["fxFlex","auto","id","sidebar-left",1,"sidebar-left","sidebar-fixed",3,"perfectScrollbar"],[1,"sidebar"],[1,"sidebar-content","card"],[1,"card-body","chat-fixed-search"],[1,"form-group","position-relative","has-icon-left","m-0"],["type","text","id","iconLeft","placeholder","Search user",1,"form-control",3,"keyup"],[1,"form-control-position"],[1,"feather","ft-search"],["id","users-list",1,"list-group","position-relative"],[1,"users-list-padding","media-list"],["class","media _media","id","_media",3,"routerLink","ngClass","click",4,"ngFor","ngForOf"],[1,"content-right"],[1,"content-wrapper"],[1,"content-header"],[1,"content-body"],["id","content-overlay",1,"content-overlay",3,"click"],[1,"chat-app-window"],["content",""],[1,"sidebar-toggle","d-block","d-lg-none",3,"click"],[1,"feather","ft-menu","font-large-1"],[1,"badge","badge-secondary","mb-1"],[1,"chats"],["messages",""],["class","chat",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-app-form"],[1,"chat-app-input","d-flex"],[1,"form-group","position-relative","has-icon-left","col-10","m-0"],[1,"icon-emoticon-smile"],["type","text","name","newmessage","id","iconLeft4","placeholder","Type your message",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["box",""],[1,"form-control-position","control-position-right"],[1,"feather","ft-image"],[1,"form-group","position-relative","has-icon-left","col-2","m-0"],["type","button","keyboardShouldPersistTaps","{true}",1,"btn","btn-primary",3,"click"],[1,"la","la-paper-plane-o","d-lg-none"],[1,"d-none","d-lg-block"],["id","_media",1,"media","_media",3,"routerLink","ngClass","click"],[1,"media-left","pr-1"],["alt","avatar",1,"media-object","rounded-circle",3,"src"],[1,"imagename","media-body","w-100"],[1,"list-group-item-heading"],[1,"font-small-3","float-right","info"],[1,"list-group-item-text","text-muted","mb-0"],["class","feather ft-check primary font-small-2",4,"ngIf"],[1,"float-right","primary"],["class","font-medium-1 icon-pin blue-grey lighten-3",4,"ngIf"],["class","font-medium-1 icon-volume-off blue-grey lighten-3 mr-1",4,"ngIf"],[1,"badge","badge-pill","badge-danger"],[1,"feather","ft-check","primary","font-small-2"],[1,"font-medium-1","icon-pin","blue-grey","lighten-3"],[1,"font-medium-1","icon-volume-off","blue-grey","lighten-3","mr-1"],[1,"chat",3,"ngClass"],[1,"chat-avatar"],[1,"avatar",3,"routerLink"],[1,"avatar-online"],[3,"src",4,"ngIf"],[1,"chat-body"],[1,"chat-content"],[3,"src"]],template:function(t,e){if(1&t){var s=l.ac();l.Zb(0,"div",0),l.Zb(1,"div",1),l.Zb(2,"div",2),l.Zb(3,"div",3),l.Zb(4,"div",4),l.Zb(5,"fieldset",5),l.Zb(6,"input",6),l.lc("keyup",(function(t){return e.updateFilter(t)})),l.Yb(),l.Zb(7,"div",7),l.Ub(8,"i",8),l.Yb(),l.Yb(),l.Yb(),l.Zb(9,"div",9),l.Zb(10,"div",10),l.Tc(11,v,20,14,"a",11),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(12,"div",12),l.Zb(13,"div",13),l.Ub(14,"div",14),l.Zb(15,"div",15),l.Zb(16,"div",16),l.lc("click",(function(t){return e.contentOverlay(t)})),l.Yb(),l.Zb(17,"section",17,18),l.Zb(19,"div",19),l.lc("click",(function(t){return e.sidebar(t)})),l.Ub(20,"i",20),l.Yb(),l.Zb(21,"div",21),l.Vc(22,"Chat History"),l.Yb(),l.Zb(23,"div",22,23),l.Tc(25,w,9,3,"div",24),l.Yb(),l.Yb(),l.Zb(26,"section",25),l.Zb(27,"form",26),l.Zb(28,"fieldset",27),l.Zb(29,"div",7),l.Ub(30,"i",28),l.Yb(),l.Zb(31,"input",29,30),l.lc("ngModelChange",(function(t){return e.newMessage=t}))("keyup.enter",(function(){l.Lc(s);var t=l.Ic(32);return e.onEnter(t.value)})),l.Yb(),l.Zb(33,"div",31),l.Ub(34,"i",32),l.Yb(),l.Yb(),l.Zb(35,"fieldset",33),l.Zb(36,"button",34),l.lc("click",(function(){return e.sendMessage()})),l.Ub(37,"i",35),l.Zb(38,"span",36),l.Vc(39,"Send"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb()}2&t&&(l.Eb(1),l.uc("perfectScrollbar",e.config),l.Eb(10),l.uc("ngForOf",e.contactList),l.Eb(14),l.uc("ngForOf",e.displayChat),l.Eb(6),l.uc("ngModel",e.newMessage))},directives:[n.b,i.t,g.I,g.t,g.u,g.d,g.s,g.v,p.k,i.r,i.u],pipes:[i.f],styles:[".chat-application[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .chat-left[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]     .chat-application .chats .chat-avatar .avatar{width:50px;margin-top:0!important}[_nghost-%COMP%]     .chat-application .chat-app-window{overflow-y:scroll!important}[_nghost-%COMP%]     a._media.active{background:rgba(0,0,0,.05);border-right:2px solid #1e9ff2!important;margin-right:0}.ps-container.ps-active-y[_ngcontent-%COMP%] > .ps-scrollbar-y-rail[_ngcontent-%COMP%], [_nghost-%COMP%]     .ps-container.ps-active-x>.ps-scrollbar-x-rail{display:block;background-color:transparent}[_nghost-%COMP%]     .ps-container>.ps-scrollbar-y-rail{display:none;position:absolute;border-radius:4px;opacity:0;right:3px;width:8px}[_nghost-%COMP%]     .ps-scrollbar-y-rail{right:3px!important;left:auto!important}[_nghost-%COMP%]     .ps__thumb-y{border-radius:6px;width:6px;right:2px;position:absolute}[_nghost-%COMP%]     .ps__rail-y{width:8px!important}[_nghost-c11][_ngcontent-%COMP%]   .ps__thumb-y[_ngcontent-%COMP%]{background-color:#55595c!important;border-radius:6px;width:2px!important;right:2px;position:absolute;height:100px!important}.ps__rail-y.ps--clicking[_ngcontent-%COMP%]   .ps__thumb-y[_ngcontent-%COMP%], .ps__rail-y[_ngcontent-%COMP%]:focus > .ps__thumb-y[_ngcontent-%COMP%], [_nghost-%COMP%]     .ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:6px!important}[_nghost-%COMP%]     .mr-1{margin-right:1.25rem!important}"]}),t}(),M=s("wW7e"),I=s("qT8p"),Y=["content"],U=["messages"];function Z(t,e){1&t&&l.Ub(0,"i",49)}function k(t,e){1&t&&l.Ub(0,"i",50)}var O=function(t,e){return{active:t,"":e}};function L(t,e){if(1&t){var s=l.ac();l.Zb(0,"a",37),l.lc("click",(function(){l.Lc(s);var t=e.$implicit;return l.nc().showChat(t.friendId)})),l.Zb(1,"div",38),l.Zb(2,"span"),l.Ub(3,"img",39),l.Ub(4,"i"),l.Yb(),l.Yb(),l.Ub(5,"i"),l.Zb(6,"div",40),l.Zb(7,"h6",41),l.Vc(8),l.Zb(9,"span",42),l.Vc(10),l.Yb(),l.Yb(),l.Zb(11,"p",43),l.Ub(12,"i",44),l.Vc(13),l.Zb(14,"span",45),l.Tc(15,Z,1,0,"i",46),l.Yb(),l.Zb(16,"span",45),l.Tc(17,k,1,0,"i",47),l.Zb(18,"span",48),l.Vc(19),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb()}if(2&t){var i=e.$implicit;l.uc("ngClass",l.Ac(11,O,!0===i.isSelected,!1===i.isSelected)),l.Eb(2),l.Hb("avatar avatar-md avatar-",i.isactive,""),l.Eb(1),l.uc("src",i.image,l.Nc),l.Eb(5),l.Wc(i.name),l.Eb(2),l.Wc(i.time),l.Eb(3),l.Xc("",i.showMessage," "),l.Eb(2),l.uc("ngIf",i.showicon),l.Eb(2),l.uc("ngIf",i.isicon),l.Eb(2),l.Wc(i.badge)}}var P=function(t,e){return{"chat-right":t,"chat-left":e}};function x(t,e){if(1&t&&(l.Zb(0,"div",51),l.Zb(1,"div",52),l.Zb(2,"a",53),l.Zb(3,"span",54),l.Ub(4,"img",55),l.Yb(),l.Yb(),l.Yb(),l.Zb(5,"div",56),l.Zb(6,"div",57),l.Zb(7,"p"),l.Vc(8),l.Yb(),l.Yb(),l.Yb(),l.Yb()),2&t){var s=e.$implicit;l.uc("ngClass",l.Ac(3,P,0==s.sender,1==s.sender)),l.Eb(4),l.uc("src",s.senderImage,l.Nc),l.Eb(4),l.Wc(s.message)}}var E=function(){return function(t,e,s,i,a,n,o,r,c,h,l){this.friendId=t,this.name=e,this.image=s,this.time=i,this.showMessage=a,this.badge=n,this._ChatHistory=o,this.showicon=r,this.isicon=c,this.isactive=h,this.isSelected=l}}(),H=function(){function t(t,e,s){var i=this;this.chatApiService=t,this.renderer=e,this.toastr=s,this.status=!0,this.contactChat=[],this.newMessage="",this.newMessageArray=[],this.config={wheelPropagation:!1},this.contactList=[],this.temp=[],this.temp2=this.contactList,this.scrollToBottom=function(){try{i.content.nativeElement.scrollTop=i.content.nativeElement.scrollHeight}catch(t){}}}return t.prototype.ngAfterViewInit=function(){this.messages.forEach(this.scrollToBottom),this.messages.changes.subscribe(this.scrollToBottom)},t.prototype.ngOnInit=function(){var t=this;this.toastr.clear(),this.toastr.warning("","Please login through a personal account to experience the Live chat. We have it disabled for demo account.",{timeOut:5e3,disableTimeOut:!0,closeButton:!0}),this.chatArray=this.chatApiService.getChatsData().subscribe((function(e){t.chatArray=e,t.contactChat=t.chatArray[2].ChatHistory,t.contactList.push(new E(1,"Elizabeth Elliott","../../../assets/images/portrait/small/avatar-s-3.png","4:14 AM"," Okay","",t.chatArray[0].ChatHistory,!0,!1,"online",!1)),t.contactList.push(new E(2,"Kristopher Candy","../../../assets/images/portrait/small/avatar-s-7.png","9:04 PM"," Thank you","12",t.chatArray[1].ChatHistory,!1,!1,"busy",!1)),t.contactList.push(new E(3,"Sarah Woods","../../../assets/images/portrait/small/avatar-s-8.png","2:14 AM"," Hello krish!","3",t.chatArray[2].ChatHistory,!1,!0,"away",!1)),t.contactList.push(new E(4,"Wayne Burton","../../../assets/images/portrait/small/avatar-s-5.png","Today"," Can we connect?","",t.chatArray[3].ChatHistory,!1,!1,"online",!1)),t.contactList.push(new E(5,"Sarah Montgomery","../../../assets/images/portrait/small/avatar-s-9.png","Yesterday"," Will connect you","",t.chatArray[4].ChatHistory,!1,!1,"busy",!1)),t.contactList.push(new E(6,"Heather Howell","../../../assets/images/portrait/small/avatar-s-4.png","Friday"," Thank you","4",t.chatArray[5].ChatHistory,!1,!1,"online",!1)),t.contactList.push(new E(7,"Kelly Reyes","../../../assets/images/portrait/small/avatar-s-14.png","Thursday"," I love you","",t.chatArray[6].ChatHistory,!1,!1,"busy",!1)),t.contactList.push(new E(8,"Vincent Nelson","../../../assets/images/portrait/small/avatar-s-3.png","4:14 AM"," Who you are?","",t.chatArray[7].ChatHistory,!1,!1,"online",!1)),t.contactList.push(new E(9,"Elizabeth Elliott","../../../assets/images/portrait/small/avatar-s-7.png","9:04 PM"," Okay","",t.chatArray[8].ChatHistory,!0,!1,"online",!1)),t.contactList.push(new E(10,"Kristopher Candy","../../../assets/images/portrait/small/avatar-s-8.png","2:14 AM"," Thank you","12",t.chatArray[9].ChatHistory,!1,!1,"busy",!1)),t.contactList.push(new E(11,"Sarah Woods","../../../assets/images/portrait/small/avatar-s-5.png","1:10 AM"," Let`s see.","",t.chatArray[10].ChatHistory,!1,!0,"away",!1)),t.contactList[2].isSelected=!0}))},t.prototype.updateFilter=function(t){var e=t.target.value.toLowerCase();this.contactList=Object(a.__spreadArrays)(this.temp2),this.temp=Object(a.__spreadArrays)(this.contactList);var s=this.contactList.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e)||!e}));this.contactList=s},t.prototype.sendMessage=function(){null!==this.newMessage&&""!==this.newMessage&&(this.contactChat.push({message:[this.newMessage],sender:0,senderImage:""}),this.newMessage=null)},t.prototype.onEnter=function(t){this.newMessage=t,null!==this.newMessage&&""!==this.newMessage&&(this.contactChat.push({message:[this.newMessage],sender:0,senderImage:""}),this.newMessage=null)},t.prototype.showChat=function(t){this.contactChat=[];for(var e=0;e<this.contactList.length;e++)t!==this.contactList[e].friendId&&(this.contactList[e].isSelected=!1),t===this.contactList[e].friendId&&(this.contactList[e].isSelected=!0);for(var s=0,i=this.contactList;s<i.length;s++)if(i[s].friendId===t){this.contactChat=this.chatArray[t-1].ChatHistory;break}},t.prototype.sidebar=function(t){var e=document.getElementById("sidebar-left"),s=document.getElementById("content-overlay");"sidebar-toggle d-block d-lg-none"===t.currentTarget.className&&(this.renderer.addClass(e,"show"),this.renderer.addClass(s,"show"))},t.prototype.contentOverlay=function(t){var e=document.getElementById("sidebar-left"),s=document.getElementById("content-overlay");"content-overlay show"===t.currentTarget.className&&(this.renderer.removeClass(e,"show"),this.renderer.removeClass(s,"show"))},t.\u0275fac=function(e){return new(e||t)(l.Tb(M.a),l.Tb(l.F),l.Tb(I.c))},t.\u0275cmp=l.Nb({type:t,selectors:[["app-static-chat"]],viewQuery:function(t,e){var s;1&t&&(l.cd(n.a,!0),l.Rc(n.b,!0),l.Rc(Y,!0),l.cd(U,!0)),2&t&&(l.Hc(s=l.mc())&&(e.componentRef=s.first),l.Hc(s=l.mc())&&(e.directiveRef=s.first),l.Hc(s=l.mc())&&(e.content=s.first),l.Hc(s=l.mc())&&(e.messages=s))},decls:40,vars:4,consts:[[1,"app-content","content"],["fxFlex","auto","id","sidebar-left",1,"sidebar-left","sidebar-fixed",3,"perfectScrollbar"],[1,"sidebar"],[1,"sidebar-content","card"],[1,"card-body","chat-fixed-search"],[1,"form-group","position-relative","has-icon-left","m-0"],["type","text","id","iconLeft","placeholder","Search user",1,"form-control",3,"keyup"],[1,"form-control-position"],[1,"feather","ft-search"],["id","users-list",1,"list-group","position-relative"],[1,"users-list-padding","media-list"],["class","media _media","id","_media",3,"routerLink","ngClass","click",4,"ngFor","ngForOf"],[1,"content-right"],[1,"content-wrapper"],[1,"content-header"],[1,"content-body"],["id","content-overlay",1,"content-overlay",3,"click"],[1,"chat-app-window"],["content",""],[1,"sidebar-toggle","d-block","d-lg-none",3,"click"],[1,"feather","ft-menu","font-large-1"],[1,"badge","badge-secondary","mb-1"],[1,"chats"],["messages",""],["class","chat",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-app-form"],[1,"chat-app-input","d-flex"],[1,"form-group","position-relative","has-icon-left","col-10","m-0"],[1,"icon-emoticon-smile"],["type","text","name","newmessage","id","iconLeft4","placeholder","Type your message",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["box",""],[1,"form-control-position","control-position-right"],[1,"feather","ft-image"],[1,"form-group","position-relative","has-icon-left","col-2","m-0"],["type","button","keyboardShouldPersistTaps","{true}",1,"btn","btn-primary",3,"click"],[1,"la","la-paper-plane-o","d-lg-none"],[1,"d-none","d-lg-block"],["id","_media",1,"media","_media",3,"routerLink","ngClass","click"],[1,"media-left","pr-1"],["alt","avatar",1,"media-object","rounded-circle",3,"src"],[1,"imagename","media-body","w-100"],[1,"list-group-item-heading"],[1,"font-small-3","float-right","info"],[1,"list-group-item-text","text-muted","mb-0"],[1,"feather","ft-check","primary","font-small-2"],[1,"float-right","primary"],["class","font-medium-1 icon-pin blue-grey lighten-3",4,"ngIf"],["class","font-medium-1 icon-volume-off blue-grey lighten-3 mr-1",4,"ngIf"],[1,"badge","badge-pill","badge-danger"],[1,"font-medium-1","icon-pin","blue-grey","lighten-3"],[1,"font-medium-1","icon-volume-off","blue-grey","lighten-3","mr-1"],[1,"chat",3,"ngClass"],[1,"chat-avatar"],[1,"avatar",3,"routerLink"],[1,"avatar-online"],[3,"src"],[1,"chat-body"],[1,"chat-content"]],template:function(t,e){if(1&t){var s=l.ac();l.Zb(0,"div",0),l.Zb(1,"div",1),l.Zb(2,"div",2),l.Zb(3,"div",3),l.Zb(4,"div",4),l.Zb(5,"fieldset",5),l.Zb(6,"input",6),l.lc("keyup",(function(t){return e.updateFilter(t)})),l.Yb(),l.Zb(7,"div",7),l.Ub(8,"i",8),l.Yb(),l.Yb(),l.Yb(),l.Zb(9,"div",9),l.Zb(10,"div",10),l.Tc(11,L,20,14,"a",11),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(12,"div",12),l.Zb(13,"div",13),l.Ub(14,"div",14),l.Zb(15,"div",15),l.Zb(16,"div",16),l.lc("click",(function(t){return e.contentOverlay(t)})),l.Yb(),l.Zb(17,"section",17,18),l.Zb(19,"div",19),l.lc("click",(function(t){return e.sidebar(t)})),l.Ub(20,"i",20),l.Yb(),l.Zb(21,"div",21),l.Vc(22,"Chat History"),l.Yb(),l.Zb(23,"div",22,23),l.Tc(25,x,9,6,"div",24),l.Yb(),l.Yb(),l.Zb(26,"section",25),l.Zb(27,"form",26),l.Zb(28,"fieldset",27),l.Zb(29,"div",7),l.Ub(30,"i",28),l.Yb(),l.Zb(31,"input",29,30),l.lc("ngModelChange",(function(t){return e.newMessage=t}))("keyup.enter",(function(){l.Lc(s);var t=l.Ic(32);return e.onEnter(t.value)})),l.Yb(),l.Zb(33,"div",31),l.Ub(34,"i",32),l.Yb(),l.Yb(),l.Zb(35,"fieldset",33),l.Zb(36,"button",34),l.lc("click",(function(){return e.sendMessage()})),l.Ub(37,"i",35),l.Zb(38,"span",36),l.Vc(39,"Send"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb()}2&t&&(l.Eb(1),l.uc("perfectScrollbar",e.config),l.Eb(10),l.uc("ngForOf",e.contactList),l.Eb(14),l.uc("ngForOf",e.contactChat),l.Eb(6),l.uc("ngModel",e.newMessage))},directives:[n.b,i.t,g.I,g.t,g.u,g.d,g.s,g.v,p.k,i.r,i.u],styles:[".chat-application[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .chat-left[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]     .chat-application .chats .chat-avatar .avatar{width:50px;margin-top:0!important}[_nghost-%COMP%]     .chat-application .chat-app-window{overflow-y:scroll!important}[_nghost-%COMP%]     a._media.active{background:rgba(0,0,0,.05);border-right:2px solid #1e9ff2!important;margin-right:0}.ps-container.ps-active-y[_ngcontent-%COMP%] > .ps-scrollbar-y-rail[_ngcontent-%COMP%], [_nghost-%COMP%]     .ps-container.ps-active-x>.ps-scrollbar-x-rail{display:block;background-color:transparent}[_nghost-%COMP%]     .ps-container>.ps-scrollbar-y-rail{display:none;position:absolute;border-radius:4px;opacity:0;right:3px;width:8px}[_nghost-%COMP%]     .ps-scrollbar-y-rail{right:3px!important;left:auto!important}[_nghost-%COMP%]     .ps__thumb-y{border-radius:6px;width:6px;right:2px;position:absolute}[_nghost-%COMP%]     .ps__rail-y{width:8px!important}[_nghost-c11][_ngcontent-%COMP%]   .ps__thumb-y[_ngcontent-%COMP%]{background-color:#55595c!important;border-radius:6px;width:2px!important;right:2px;position:absolute;height:100px!important}.ps__rail-y.ps--clicking[_ngcontent-%COMP%]   .ps__thumb-y[_ngcontent-%COMP%], .ps__rail-y[_ngcontent-%COMP%]:focus > .ps__thumb-y[_ngcontent-%COMP%], [_nghost-%COMP%]     .ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:6px!important}[_nghost-%COMP%]     .mr-1{margin-right:1.25rem!important}"]}),t}();s.d(e,"ChatsModule",(function(){return T}));var T=function(){function t(){}return t.\u0275mod=l.Rb({type:t}),t.\u0275inj=l.Qb({factory:function(e){return new(e||t)},providers:[d,M.a],imports:[[i.c,g.n,I.b.forRoot(),n.c,p.l.forChild([{path:"",component:_},{path:"static-chat",component:H}])]]}),t}()}}]);